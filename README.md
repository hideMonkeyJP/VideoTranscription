# VideoTranscription System

## システム概要
本システムは、動画から映像および音声情報を抽出し、各種処理(フレーム抽出、OCR、音声書き起こし、テキスト要約)を経て、処理結果をCSVまたはJSON形式で出力するパイプラインを構築します。

## システムアーキテクチャ

### 1. 入力層
- 動画ファイルの入力処理
- 対応フォーマット: mp4, avi等
- 入力方法: ファイルアップロードまたはディレクトリ指定

### 2. 処理層
#### 2.1 フレーム抽出モジュール
- OpenCVを使用した動画フレーム抽出
- シーン検出アルゴリズムによる重要フレーム選定
- 動画長に応じた可変枚数抽出(1時間あたり約1000枚)

#### 2.2 OCRモジュール
- Tesseractを使用したテキスト抽出
- 日本語・英語の多言語対応
- テキスト品質評価機能

#### 2.3 音声認識モジュール
- Whisperを使用した高精度音声認識
- タイムスタンプ付きテキスト生成
- 日本語に最適化された設定

#### 2.4 テキスト処理モジュール
- MeCabによる形態素解析
- キーワード抽出機能
- トピック分析機能
- テキスト要約機能

### 3. 出力層
- JSON/CSV形式でのデータ出力
- 統合データ形式:
  - 動画ID
  - タイムスタンプ
  - OCRテキスト
  - 音声書き起こし
  - 要約テキスト
  - キーワード
  - サムネイル参照

## 開発環境
- Python 3.9
- 主要依存ライブラリ:
  - numpy
  - opencv-python
  - pytesseract
  - moviepy
  - transformers
  - whisper
  - mecab-python3

## セットアップ手順
1. 依存ライブラリのインストール
```bash
pip install -r requirements.txt
```

2. 設定ファイルの準備
- config/config.yamlを環境に合わせて設定

3. 実行方法
```bash
python src/main.py [動画ファイルパス] --output [出力ディレクトリ]
```

## 開発ステップ
1. 要件定義とアーキテクチャ設計 【現在地】
2. 動画入力およびフレーム抽出機能の実装
3. OCR処理モジュールの実装
4. 音声書き起こしとテキスト要約機能の実装
5. 統合テスト、エラーハンドリング、最終デプロイ